<script src="product_data.js" type="text/javascript"></script>
<script>
  var products_array = "product_data.js"
</script>
<script>
  let params = (new URL(document.location)).searchParams;
  var product_type = params.get("typekey");

  function getCookie(name = '') {
      let cookies = document.cookie;
      let cookiestore = {};

      cookies = cookies.split(";");

      if (cookies[0] == "" & cookies[0][0] == undefined){
          return undefined;
      }
      cookies.forEach(function(cookie) {
          cookie = cookie.split(/=(.+)/);
          if (cookie[0].substr(0,1) == ' ') {
              cookie[0] = cookie[0].substr(1)
          }
          cookiestore[cookie[0]] = cookie[1];
          });
      return (name !=='' ? cookiestore[name] : cookiestore);
  }

  function loadJSON(service,callback) {
      var xobj = new XMLHttpRequest();
      xobj.overrideMimeType("application/json");
      xobj.open('POST', service, false);
      xobj.onreadystatechange = function () {
          if (xobj.readyState == 4 && xobj.status == "200") {
              callback(xobj.responseText);
          }
      };
      xobj.send(null);
  }

  var cookieToEdit = getCookie('username');
  var x = cookieToEdit.replace('username=', '');
  var display = x.replace('%20', ' ');

</script>
<script>
  /* When the user clicks on the button, 
  toggle between hiding and showing the dropdown content */
  function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
  }
  
  // Close the dropdown if the user clicks outside of it
  window.onclick = function(e) {
    if (!e.target.matches('.dropbtn')) {
    var myDropdown = document.getElementById("myDropdown");
      if (myDropdown.classList.contains('show')) {
        myDropdown.classList.remove('show');
      }
    }
  }
</script>
<!DOCTYPE html>
<html>
<title>Chayse's Axolotl Store</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--Links to stylesheets from w3schools template-->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
<!--Links to stylesheet similar to SmartPhoneProducts-->
<link rel="stylesheet" href="./indexstyle.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<body>
  <!--Creates NavBar with Dropdown-->
  <div class="w3-top">
    <div class="w3-row w3-padding w3-black">
    <a class="notdropdown" style="width:24.9999%; text-align:center;text-decoration:none;" href="./index.html">HOME</a>
    <div class="dropdown" style="width:24.9999%">
      <button class="dropbtn" style="width:100%" onclick="myFunction()">PRODUCTS
      </button>
        <div class="dropdown-content" id="myDropdown">
          <script>
            for (let ptype in products) {
              document.write(`<a href="./product_display.html?typekey=${ptype}">${ptype}</a>`)
            }
          </script>
        </div>
    </div> 
    <form name = "navigation" action="process_form" method="POST">
    <script>
      if (getCookie('username') == undefined) {
        document.write(`<a class="notdropdown" style="width:24.9999%; text-align:center;text-decoration:none;" href="login.html">CART</a>`);
      }
      else {
        document.write(`<a class="notdropdown" style="width:24.9999%; text-align:center;text-decoration:none;" href="/cart.html">CART</a>`);
      }
    </script>
    <script>
      if (getCookie('username') == undefined) {
        document.write(`<a class="notdropdown" style="width:24.9999%; text-align:center;text-decoration:none;" href="login.html">LOGIN/SIGNUP</a>`);
      } else {
        document.write(`<a class="notdropdown" style="width:24.9999%; text-align:center;text-decoration:none;" href="logout">${getCookie('username')} (LOGOUT)</a>`);
      }
    </script>
    </div>
  </div>
</form>
  <!-- Header with image -->
  <!--Assigns this section to HOME-->
  <header class="bgimg w3-display-container w3-grayscale-min" id="home">
    <!--Displays where the store is located on the bottom left of Header-->
    <div class="w3-display-bottomleft w3-center w3-padding-large w3-hide-small">
      <span class="w3-tag">Honolulu, Hawaii</span>
    </div>
    <!--Diplays a title on the page-->
    <div class="w3-display-middle w3-center">
      <h5 class="w3-center w3-padding-64" style="font-size: 80px"><span class="w3-tag w3-wide">THE AXOLOTL STORE</span>
      </h5>
    </div>
  </header>
   <!-- Applies Background color to the rest of the page-->
   <div class="w3-sand w3-grayscale w3-large">

    <!-- About Section-->
    <!--Assigns the section as about-->
    <div class="w3-container" id="about">
      <div class="w3-content" style="max-width:700px">
        <!--Creates a title and information paragraphs for the section-->
        <h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">ABOUT OUR STORE</span></h5>
        <p>We sell axolotls that are locally bred in Hawaii. We have axolotls of all different colors. We can ship
          axolotls to any island.</p>
        <p>If you are interested in purchasing an axolotl please be sure to refer to 
          <!--Links "this site" to a website-->
          <a href=https://www.thesprucepets.com/axolotls-as-pets-1236714>thissite </a> to ensure that you are ready to
          take care of your new friend. </p>
        <div class="w3-panel w3-leftbar w3-light-grey">
          <p><i>"There is nothing greater than watching your axolotl sit in one place all day! (With the occasional
              chaotic swimming!)"</i></p>
          <p>Axolotl Breeder and Shop Owner: Chayse Tamaki</p>
        </div>
        <p>If you think you are ready to purchase one of our axolotls, click "Products" in the navigation bar above. or see the slideshow below to see our selection</p>
      </div>
    </div>
    <br> 

    <!-- Slideshow container -->
    <div class="slideshow-container">

      <div class="mySlides fade">
        <div class="numbertext">1 / 3</div>
        <a href="./product_display.html?typekey=COMMON"><img src="images/Wild.jpg" style="width:100%"></a>
        <div class="text"><h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">COMMON AXOLTLS</span></h5></div>
      </div>
      
      <div class="mySlides fade">
        <div class="numbertext">2 / 3</div>
        <a href="./product_display.html?typekey=SPECIAL"><img src="images/GFP.jpg" style="width:100%"></a>
        <div class="text"><h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">SPECIAL AXOLTLS</span></h5></div>
      </div>
      
      <div class="mySlides fade">
 
        <div class="numbertext">3 / 3</div>
        <a href="./product_display.html?typekey=RARE"><img src="images/Mosaic.jpg" style="width:100%"></a>       
        <div class="text" style="text-emphasis: red;"><h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">RARE AXOLTLS</span></h5></div>
        
      </div>
      
      </div>
      <br>
      
      <div style="text-align:center">
        <span class="dot"></span> 
        <span class="dot"></span> 
        <span class="dot"></span> 
      </div>
      
      <script>
      var slideIndex = 0;
      showSlides();
      
      function showSlides() {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";  
        }
        slideIndex++;
        if (slideIndex > slides.length) {slideIndex = 1}    
        for (i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex-1].style.display = "block";  
        dots[slideIndex-1].className += " active";
        setTimeout(showSlides, 10000); // Change image every 2 seconds
      }
      </script>
  </body>
  </html>
  